%!TEX root = ../dokumentation.tex
\chapter{Fallstudie}
\label{chap:fallstudie}
Im Folgenden soll eine Produktionsanlage eines Baukastens für einen
Anemometer \footnote{Ein Gerät zum messen der Windstärke} modelliert werden, welches im Rahmen eines Projektes \footnote{\url{http://mett.ddns.net} [Stand: Juni]}  der Gruppe Woodchucks an der DHBW Mannheim entwickelt wurde.
\section{Modellierung}
%Modell Beschreibung
Der Kreislauf beginnt mit der Eingabe eines neuen Auftrages. Dieser ermöglicht die Asuführung der Tansition ("`Auftrag bearbeiten"').
Somit wird die ausführung der neuen Transition "`Grundplatte bauen"' ermöglicht. \\ Diese beginnt nun mit dem Bau der Grundplatte. Hieraus werden zwei neue Transitionen angesteuert, sobald eine Einheit produziert worden ist. \\ Bevor die Transition "`Flügel herstellen"' ausgeführt werden kann, wird der CNC-Modus der Fräse geändert.  Nun wird begonnen die Flügel herzustellen. Sobald vier Einheiten produziert worden sind, wird der CNC-Modus umgestellt, um mit der Fräse eine neue Grundplatte erzeugen zu können. \\ Sobald nun die Flügel hergestellt sind und eine Menge von mindestens 40 Einheiten Holz verbraucht worden sind, so wird eine neue Transition "`Holz kaufen"' ausgeführt, welche nach deren Ablauf das Lager mit dem neuem Holz nachfüllt. Nach der Produktion von 4 Einheiten der Flügel beginnt nun die Transition "`Zusammensetzen"'. Bei dieser Aktion werden nun die einzelnen Komponenten: \begin{itemize}
	\itemsep0pt
	\item Standbeine
	\item Flügel
	\item Grundplatte
\end{itemize} zusammengesetzt und für die weitere Verarbeitng, als neue Einheit zur Verfügung gestellt. \\ Sollten nun bei dieser Transition mindestens 8 Standbeine verbraucht worden sein, so wird eine neue für den Einkauf und EInlagerung von Standbeinen in Kraft gesetzt.
\begin{landscape}
\begin{figure}
    \centering
\begin{tikzpicture}
    \node[place, label=above:Holzlager](holzlager) {$50*$\textbullet};
    \node[transition, left= of holzlager, label=left:Holz nachkaufen](holzNachkaufen) {};
    \node[place, below= of holzNachkaufen, label=left:Verbrauchtes Holz](verbrauchtesHolz){};
    \node[transition, below=8em of holzlager, label=left:Flügel herstellen](fluegelHerstellen) {};
    \node[place, label=left:Flügel, below= of fluegelHerstellen](fluegel) {};
    \node[place, right=7em of fluegelHerstellen](1){};
    \node[place, above=1em of 1, label=above:CNC Modus \enquote{Flügel}](cncModus){};
    \node[place, above right=6em and 3em of cncModus, label=above:Herzustellende Flügel](herzustellendeFluegel) {};
    \node[transition,below  right=5em of 1, label=below:CNC Modus umschalten](cncModusUmschalten){};
    \node[place, above= of cncModusUmschalten, label={[label distance=0em]-30:CNC Modus \enquote{Grundplatte}}](cncModusGrundplatte){};
    \node[transition, right=12em of cncModusGrundplatte, label=right:Grundplatte bauen](grundplatteBauen) {};
    \node[transition, above left=7em and 3em of grundplatteBauen, label=below:Auftrag bearbeiten](auftragBearbeiten){};
    \node[place, right=6em of auftragBearbeiten, label=right:Herzustellende Grundplatten](herzustellendeGrundplatte){};
    \node[place, above=2em of auftragBearbeiten, label=right:Eingehende Aufträge](eingehendeAuftraege){};
    \node[place, below right=7em of fluegel, label=above:Standbein Lager](standbeinLager){$10*$\textbullet};
    \node[transition, below=5em of standbeinLager, label=left:Zusammensetzen](zusammensetzen){};
    \node[place, below= of zusammensetzen, label=right:Fertige Windräder](fertigeWindraeder){};
    \node[transition, right= of standbeinLager, label=right:Standbeine Nachkaufen](standbeineNachkaufen){};
    \node[place, below= of standbeineNachkaufen, label=right:Verbrauchte Standbeine](verbrauchteStandbeine){};
    \node[place, right=14em of standbeineNachkaufen, label=right:Grundplatten](grundplatten){};

    \path
    (holzNachkaufen) edge[post, anchor=south] node[]{$40*$\textbullet} (holzlager)
    (holzNachkaufen) edge[pre, anchor=east] node{$40*$\textbullet} (verbrauchtesHolz)
    (holzlager) edge[post, anchor=east] node{\textbullet} (fluegelHerstellen)
    (fluegelHerstellen) edge[post, anchor=north] node{\textbullet} (verbrauchtesHolz)
    (fluegelHerstellen) edge[post] (fluegel)
    (fluegel) edge[post, anchor=east] node {\textbullet\textbullet\textbullet\textbullet} (zusammensetzen)
    (standbeinLager) edge[post, anchor=east] node{\textbullet} (zusammensetzen)
    (zusammensetzen) edge[post, anchor=east] node{\textbullet} (fertigeWindraeder)
    (zusammensetzen) edge[post, anchor=east] node{\textbullet} (verbrauchteStandbeine)
    (verbrauchteStandbeine) edge[post, anchor=west] node{$8*$\textbullet} (standbeineNachkaufen)
    (standbeineNachkaufen) edge[post, anchor=north] node{$8*$\textbullet}(standbeinLager)
    (zusammensetzen) edge[pre, anchor=north, out=-20,in=-90] node{\textbullet} (grundplatten)
    (grundplatteBauen) edge[post, anchor=west] node{\textbullet}(grundplatten)
    (herzustellendeGrundplatte) edge[post, anchor=west] node{\textbullet}(grundplatteBauen)
    (fluegelHerstellen) edge[post] node{\textbullet}(1)
    (fluegelHerstellen) edge[pre] node{\textbullet}(cncModus)
    (herzustellendeFluegel) edge[post, out=210, in=80, anchor=south] node{\textbullet}(fluegelHerstellen)
    (grundplatteBauen) edge[post, out=150, in=20, anchor=south] node{\textbullet}(verbrauchtesHolz)
    (herzustellendeFluegel) edge[pre, anchor=south] node{\textbullet\textbullet\textbullet\textbullet} (auftragBearbeiten)
    (holzlager) edge[post, in=150, out=20, anchor=south] node{\textbullet}(grundplatteBauen)
    (cncModus) edge[pre, anchor=south] node{\textbullet\textbullet\textbullet\textbullet} (grundplatteBauen)
    (1) edge[post, anchor=east, bend right] node{\textbullet\textbullet\textbullet\textbullet} (cncModusUmschalten)
    (cncModusUmschalten) edge[post, anchor=east] node{\textbullet}(cncModusGrundplatte)
    (cncModusGrundplatte) edge[post, anchor=south] node{\textbullet}(grundplatteBauen)
    (auftragBearbeiten) edge[post, anchor=south] node{\textbullet}(herzustellendeGrundplatte)
    (eingehendeAuftraege) edge[post, anchor=west] node{\textbullet}(auftragBearbeiten);
\end{tikzpicture}
    \caption{Modell der Anemometer Produktion}\label{Modell}
\end{figure}
\end{landscape}

\section{Verifikation}
%TODO

\section{Analyse}
%TODO

